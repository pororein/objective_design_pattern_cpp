# Composite パターン

## 概要

- 容器と中身を同一視して再起的な構造を作成する
  - 例) ディレクトリ
    - 中にはファイル及びディレクトリが格納される
    - ディレクトリの中にさらにディレクトリを作成することができる -> 再起的な構造

## 重要ポイント

- 複数と単数を同一視する
  - 複数のものを集めて単一のものとみなす（ディレクトリ）
- add メソッドをどこにおくか
  - Component クラスに実装する
    - 未実装で呼び出されたらエラーにする
    - 未実装で呼び出されたら何もしない
  - Abstract Method にする
    - 実装側で不要な場合の動作も定義する
      - ただし、本来不要である Leaf クラスでも実装が必要になる
  - Composite クラスにのみ実装する
    - ただし、Component クラスで add を呼ぼうとしたときに Composite クラスにキャストする必要がある
- 木構造がとれるデータパータンで使用可能

## クラス一覧

- Leaf クラス (File)
  - 中身（終端）を表す
  - このクラスの中に他のクラスを入れることはできない
- Composite クラス (Directory)
  - 容器を表す
  - Composite クラス及び Leaf クラスを入れることができる
- Component クラス (Entry)
  - Leaf クラスと Composite クラスを同一視するための abstract クラス
- Client クラス
  - Composite パターンを利用するクラス
