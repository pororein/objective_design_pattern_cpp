# Bridge パターン

## 概要

### クラス階層について

#### 機能のクラス階層

- スーパークラス
  - サブクラス（メソッド追加）
    - サブサブクラス（さらにメソッド追加）

#### 実装のクラス階層

- スーパークラス（抽象クラス）
  - サブクラス（実装クラス）
  - 別のサブクラス（別の実装クラス）

### Bridge パターンとは

- 機能のクラス階層と実装のクラス階層を独立させ、それぞれのクラス階層の橋渡しを行うパターン

## 重要ポイント

- 機能と実装を独立させることで追加を簡単にする
  - 機能側で追加作業を行なったとしても、全ての実装で使用することができる
  - 実装側で修正作業を行なったとしても、全ての機能に反映することができる
- 機能追加、実装変更による相手側の階層への修正は発生しない
  - ただし、影響は受ける
- 継承と委譲
  - 継承の場合、切替にソースコードの書き換えが必要になる（蜜結合になる）
    - 継承の場合は実装に動作するのは自分の（もしくはスーパー）クラスのインスタンス及びメソッド
  - 委譲の場合、切替に必要なのは生成するクラスを交換するのみで済む場合が多い
    - 委譲の場合は実際に動作するのは別のクラスのインスタンス及びメソッド
    - 内部で動作するクラスを切り替えるだけで済むので切替が楽になる

## クラス一覧

- Abstraction クラス（Display）
  - 機能のクラス階層の最上位のクラス
  - インスタンスは Implementor クラスのインスタンスを持つ
  - Implementor クラスのメソッドを使用して基本的な機能を実装する
- RefinedAbstraction クラス（CountDisplay）
  - Abstraction クラスに機能を追加したクラス
- Implementor クラス（DisplayImpl）
  - 実装のクラス階層の最上位クラス
  - Abstraction クラスの API を規定するクラス
- ConcreteImplementor クラス（StringDisplayImpl）
  - Implementor クラスの API を具体的に実装するクラス
